
{% extends 'base.html' %}
{% block content %}

<h2 class="text-3xl font-bold text-center text-corporativo-morado mb-8">
    BitÃ¡cora del Proyecto: {{ project.name }}
</h2>

<div class="relative max-w-4xl mx-auto">
    <!-- LÃ­nea vertical -->
    <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-corporativo-morado"></div>

    <!-- Punto inicio -->
    <div class="mb-10 flex justify-center relative">
        <div class="bg-green-500 w-6 h-6 rounded-full border-4 border-white z-10"></div>
    </div>
    <div class="text-center mb-6">
        <p class="text-sm font-semibold text-gray-700">ðŸŸ¢ Inicio del Proyecto</p>
        <p class="text-xs text-gray-500">{{ project.start_date.strftime('%d/%m/%Y') }}</p>
    </div>

    {% for log in registros %}
    <div class="mb-10 flex justify-between items-center w-full">
        {% if loop.index is even %}
            <div class="w-5/12"></div>
            <div class="w-5/12 bg-white p-4 rounded shadow border border-gray-200 text-left">
        {% else %}
            <div class="w-5/12 bg-white p-4 rounded shadow border border-gray-200 text-left">
        {% endif %}
            <p class="text-sm font-semibold text-gray-800">{{ log.author.name }}</p>
            <p class="text-xs text-gray-500">{{ log.timestamp.strftime('%d/%m/%Y %H:%M') }}</p>
            <p class="text-sm mt-1">{{ log.descripcion }}</p>

            {% if log.archivo_adjunto %}
            <a href="{{ log.archivo_adjunto }}" target="_blank" class="text-sm text-blue-600 hover:underline block mt-2">
                ðŸ“Ž Ver archivo adjunto
            </a>
            {% endif %}

            <span class="inline-block mt-2 text-xs bg-gray-200 px-2 py-1 rounded">
                {{ log.tipo_evento }}
            </span>
        </div>
        {% if loop.index is even %}
            <div class="w-5/12 bg-white p-4 rounded shadow border border-gray-200 text-left">
        {% else %}
            <div class="w-5/12"></div>
        {% endif %}
        </div>
    </div>
    {% endfor %}

    <!-- Punto fin -->
    <div class="text-center mt-6">
        <p class="text-sm font-semibold text-gray-700">ðŸ”´ Fin del Proyecto</p>
        <p class="text-xs text-gray-500">{{ project.end_date.strftime('%d/%m/%Y') }}</p>
    </div>
    <div class="mt-6 flex justify-center relative">
        <div class="bg-red-500 w-6 h-6 rounded-full border-4 border-white z-10"></div>
    </div>
</div>

{% endblock %}
